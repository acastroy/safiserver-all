<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Setting up SafiServer with Asterisk</title>
    <link rel="stylesheet" href="style/safiwelcome.css" type="text/css" />
</head>
<body>
	<table border="0" cellpadding="0" cellspacing="0" width="100%" align="center">
		<tr height="20" bgcolor="#D1CD9D">
			<td colspan="2" height="22" align="center" class="welcometext">
				Setting up SafiServer: Configuring Asterisk (config files)
			</td>
		</tr>
		<tr>
			<td colspan="2" align="center">
				<table bgcolor="#FFFFFF" cellpadding="2" width="800">
					<tr>
						<td colspan="2" align="center">
							<table bgcolor="#FFFFFF" cellpadding="2" width="100%">
								<tr>
									<td align="right"><a href="http://org.eclipse.ui.intro/navigate?direction=backward"><img border="0" src="graphics/action_back.gif"  alt="Back" /></a>&nbsp;&nbsp;<a href="http://org.eclipse.ui.intro/showPage?id=root"><img border="0" src="graphics/home.png" alt="Welcome Page" /></a></td>
								</tr>
								<tr>
									<td class="menuOptionDetails"><br /><br />
										Next, you need to set up the Asterisk PBX that you want to use with your newly installed SafiServer.<br/><br/>  
										<b>1) </b> Open the <i>manager.conf</i> in your favorite text editor (The <i>manager.conf</i> is located by default at <i>/etc/asterisk/manager.conf</i>)<br/><br/>
										Example:<br />
										<div class="code">
											# nano /etc/asterisk/manager.conf
										</div>
										<br /><br />
										<b>2) </b> You will need to add the following configuration:<br />
										<b>NOTE: </b>Replace the IP address on <i>permit</i> line with that of your SafiServer.  Also, change the <i>secret</i> value to a password of your choosing<br/><br/>
										<div class="code">
											; <br />
											; SafiServer connection<br />
											; <br />
											[safi]<br />
											secret=1234<br />
											deny=0.0.0.0/0.0.0.0<br />
											permit=192.168.0.10/255.255.255.0<br />
											read = system,call,log,verbose,command,agent,user<br />
											write = system,call,log,verbose,command,agent,user<br />
										</div>
										<br /><br />
										<b>2) Reload Asterisk:</b><br />After the <i>manager.conf</i> has been modified (and saved), you will need to run the <b>reload</b> command in <a href="http://org.eclipse.ui.intro/openBrowser?url=http://www.voip-info.org/wiki-Asterisk+CLI">Asterisk CLI</a>.
										Example:<br />
										<div class="code">
										# asterisk -r<br />
										reload
										</div>
									</td>
								</tr>
								<tr class="menuOptionDetails">
									<td>
										<br /><br />
										<table>
											<tr>
												<td valign="middle"><img border="0" src="graphics/action_forward.gif" /></td>
												<td valign="middle"><a href="http://org.eclipse.ui.intro/showPage?id=serverconnect">NEXT STEP: Configure the Asterisk Connection in SafiWorkshop</a></td>
											</tr>
										</table>
										<br /><br />
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</body>
</html>